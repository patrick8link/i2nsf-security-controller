<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.11) on Fri Mar 24 20:29:55 CET 2023 -->
<title>CdbSubscription (CONF API Version 8.0.4)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-03-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CdbSubscription (CONF API Version 8.0.4)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":42,"i8":42,"i9":42,"i10":10,"i11":10,"i12":42,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CdbSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.tailf.cdb</a></div>
<h2 title="Class CdbSubscription" class="title">Class CdbSubscription</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></li>
<li>
<ul class="inheritance">
<li>com.tailf.cdb.CdbSubscription</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">CdbSubscription</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></pre>
<div class="block">This class provides subscription functionality to CDB.

 <p>The subscription functionality makes it possible to receive
 events/notifications of <i>CDB</i> configuration/operational
 changes. Subscriptions are always towards the running
 datastore (it is not possible to subscribe to changes to the
 startup datastore). Subscriptions towards the operational data kept
 in CDB are also possible, but the mechanism is slightly different.

 <p>Subscription to configuration or operational
 data is specified with the <a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb"><code>CdbSubscriptionType</code></a> type.

 <p>To subscribe to a particular path the
 <a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)"><code>subscribe(CdbSubscriptionType,int,ConfNamespace,String,Object...)</code></a>
 should be used. For each invocation of the method a subscription identifier
 (<i>subscription point</i>) is returned.

 <p>Every <i>subscription point</i> is defined through a path similar to
 the paths we use for read operations, with the exception that instead of
 fully instantiated paths to list instances we can also
 selectively use tagpaths.

 <p>Each subscriber can have multiple subscription points,
 and there can be many different subscribers.

 <p><i><b>The subscription process</b></i>
 After establishing a connection against <i>CDB</i> the process is
 as follow:
 <ul>
 <li><p>Registering on path(s) trough the <code>subscribe</code> method
 specifying Subscription type and priority which in turns returns a
 <i>subscription point</i>.
 </li>

 <li><p>When a client is done subscribing it needs to inform that it is
 ready to receive notifications. This is done by first calling
 <code>subscribeDone</code> method, after which the subscription socket
 is ready to receive notifications.
 </li>

 <li>
 <p>A direct call to <code>read</code> will retrieve a subscription
  notification. The read call will block on the socket until an notification
  is received.
 </li>

 <li>
 <p>As a subscriber has read its subscription notifications using
   <a href="#read()"><code>read()</code></a> it will receive points that was affected by a transaction
   and it can iterate through the changes that caused the
   particular subscription notification using the <code>diffIterate</code>
   method. It is also possible to start a new read-session to
   the <code>CDB_PRE_COMMIT_RUNNING</code> database to read the
   running database as it was before the pending transaction.
  </li>
 <li>

 <p>Once we have read the subscription notification through a call to
 <code>read</code> and optionally used the <code>diffIterate</code>
 to iterate through the changes as well as acted on the changes to <i>CDB</i>,
 we must synchronize <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>  with
 <i>CDB</i> so that <i>CDB</i> can continue and deliver further subscription
 messages to subscribers with higher priority numbers.
 </li>
 </ul>


 <p><b>Subscription code snippet </b></p>
 <p><hr><blockquote>
 <pre>
  // int port = Conf.PORT for ConfD or Conf.NCS_PORT for NCS
  // create new socket and Cdb instance
  Socket sock = new Socket(&quot;localhost&quot;, port);
  Cdb cdb2 = new Cdb(&quot;test&quot;,sock);
  // create new CdbSubscription instance
  final CdbSubscription sub2= cdb2.newSubscription();
  // subscribe on a path
  int subid2 = sub2.subscribe(1,new mtest(), &quot;/mtest/servers&quot;);
  // tell CDB we are ready for notifications
  sub2.subscribeDone();

  Thread subThread2 = new Thread(new Runnable() {

      public void run() {
          // now do the blocking read
          try {
              while (true) {
                  int[] points= sub2.read();
                  // now do something here like diffIterate
                  // Synchronize with CDB so that we do not
                  // block CDB and can receive new subscriptions.
                  sub2.sync(CdbSubscriptionSyncType.DONE_PRIORITY);
              }
          } catch (Exception e) {
              e.printStackTrace();
              return;
          }
      }
  });

  subThread2.start();
 </pre></blockquote><hr>
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.tailf.cdb.Cdb)">CdbSubscription</a></span>&#8203;(<a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a>&nbsp;cdb)</code></th>
<td class="colLast">
<div class="block">Creates a CDB subscription instance, with the specified
 <code>Cdb</code> socket.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#abortTransaction(com.tailf.cdb.CdbExtendedException)">abortTransaction</a></span>&#8203;(<a href="CdbExtendedException.html" title="class in com.tailf.cdb">CdbExtendedException</a>&nbsp;ex)</code></th>
<td class="colLast">
<div class="block">Abort the transaction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acceptTagPath()">acceptTagPath</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate)">diffIterate</a></span>&#8203;(int&nbsp;subid,
           <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter)</code></th>
<td class="colLast">
<div class="block">Iterate over changes made in CDB.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)">diffIterate</a></span>&#8203;(int&nbsp;subid,
           <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="../conf/DiffIterateFlags.html" title="enum in com.tailf.conf">DiffIterateFlags</a>&gt;&nbsp;flags,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;initstate)</code></th>
<td class="colLast">
<div class="block">Iterate over changes made in CDB with additional supplied flags.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCdb()">getCdb</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbSubscriptionFlagType.html" title="enum in com.tailf.cdb">CdbSubscriptionFlagType</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFlags()">getFlags</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns an EnumSet<CdbSubscriptionFlagType> of current
 flags for this subscription.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="CdbNotificationType.html" title="enum in com.tailf.cdb">CdbNotificationType</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLatestNotificationType()">getLatestNotificationType</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve the latest notification type.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="CdbSubscriptionFlagType.html" title="enum in com.tailf.cdb">CdbSubscriptionFlagType</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLatestSubscriptionFlag()">getLatestSubscriptionFlag</a></span>()</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModifications(int,com.tailf.cdb.CdbGetModificationFlag,com.tailf.conf.ConfPath)">getModifications</a></span>&#8203;(int&nbsp;subid,
                <a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
                <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModifications(int,com.tailf.cdb.CdbGetModificationFlag,java.lang.String,java.lang.Object...)">getModifications</a></span>&#8203;(int&nbsp;subid,
                <a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)">getModifications</a></span>&#8203;(int&nbsp;subid,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
                <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</code></th>
<td class="colLast">
<div class="block">Retrieve changes that caused by subscription notification.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModifications(int,java.util.EnumSet,java.lang.String,java.lang.Object...)">getModifications</a></span>&#8203;(int&nbsp;subid,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Retrieve changes that caused by subscription notification.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModifications(com.tailf.cdb.CdbGetModificationFlag)">getModifications</a></span>&#8203;(<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModifications(java.util.EnumSet)">getModifications</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags)</code></th>
<td class="colLast">
<div class="block">Retrieve changes that caused by subscription notification.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModificationsCLI(int)">getModificationsCLI</a></span>&#8203;(int&nbsp;subid)</code></th>
<td class="colLast">
<div class="block">Return a string with the CLI commands that corresponds to the
 changes that triggered subscription.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModificationsCLI(int,int)">getModificationsCLI</a></span>&#8203;(int&nbsp;subid,
                   int&nbsp;flags)</code></th>
<td class="colLast">
<div class="block">CLI string that corresponds to the changes that triggered subscription.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMountId(com.tailf.conf.ConfPath)">getMountId</a></span>&#8203;(<a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUserSession()">getUserSession</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#read()">read</a></span>()</code></th>
<td class="colLast">
<div class="block">Reads the Cdb subscription socket for events and blocks.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMandatory(java.lang.String)">setMandatory</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;mandatoryName)</code></th>
<td class="colLast">
<div class="block">Attaches a mandatory attribute and a mandatory name to this subscriber
 CDB keeps a list of mandatory subscribers for infinite extent, i.e.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(int,int,java.lang.String,java.lang.Object...)">subscribe</a></span>&#8203;(int&nbsp;priority,
         int&nbsp;nshash,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Subscribe to given path.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">subscribe</a></span>&#8203;(int&nbsp;priority,
         <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Subscribe to a given path.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,int,java.lang.String,java.lang.Object...)">subscribe</a></span>&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
         int&nbsp;priority,
         int&nbsp;nshash,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Subscribe to a path.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">subscribe</a></span>&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
         int&nbsp;priority,
         <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Subscribe to a path.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,int,java.lang.String,java.lang.Object...)">subscribe</a></span>&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
         int&nbsp;priority,
         int&nbsp;nshash,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Subscribe to a path.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">subscribe</a></span>&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
         int&nbsp;priority,
         <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Subscribe to a path.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribeDone()">subscribeDone</a></span>()</code></th>
<td class="colLast">
<div class="block">Finishing the subscription setup.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)">sync</a></span>&#8203;(<a href="CdbSubscriptionSyncType.html" title="enum in com.tailf.cdb">CdbSubscriptionSyncType</a>&nbsp;subscriptionSyncType)</code></th>
<td class="colLast">
<div class="block">Synchronize the subscriber.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(com.tailf.cdb.Cdb)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CdbSubscription</h4>
<pre>public&nbsp;CdbSubscription&#8203;(<a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a>&nbsp;cdb)</pre>
<div class="block">Creates a CDB subscription instance, with the specified
 <code>Cdb</code> socket.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cdb</code> - A cdb instance connected to ConfD/NCS</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getUserSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserSession</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getUserSession()
                    throws <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="subscribe(int,int,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;subscribe&#8203;(int&nbsp;priority,
                     int&nbsp;nshash,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                     <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Subscribe to given path.

 Sets up a CDB description so that we are notified when CDB changes.
 There can be multiple subscription points from different sources,
 that is a single client daemon can have many subscriptions and there
 can be many client daemons.
 <p>
 Each  subscription  point  is  defined through a path similar to the
 paths we use for read operations. We can subscribe either to specific
 leaf elements or entire subtrees. Subscribing to YANG list entries can
 be done using fully qualified paths, or tagpaths to match
 multiple list entries. A path which isn't a leaf automatically
 matches the subtree below that path.
 <p>
 Some examples:
 <ul>
 <li>/hosts - Means that we subscribe to  any  changes  in the subtree  -
 rooted  at  "/hosts".  This includes additions or removals of
 "host" entries as well as changes to already existing  "host"
 entries.

 <li>/hosts/host{www}/interfaces/interface{eth0}/ip -
 Means we are notified when host www changes its IP address on
 eth0.

 <li>/hosts/host/interfaces/interface/ip -
 Means we are notified when any host changes  any  of  its  IP
 addresses.

 <li>/hosts/host/interfaces -
 Means   we   are   notified   when  either  an  interface  is
 added/removed or when an individual leaf in an existing
 interface is changed.
 </ul>
 <p>

 The priority value is an integer. When CDB is changed, the change is
 performed inside a transaction. Either a commit operation  from  the
 CLI  or  a candidate-commit operation in NETCONF means that the running
 database is changed. These changes occur inside a transaction.
 CDB  will  handle  the  subscriptions in lock-step priority
 order. First all subscribers at the  lowest  priority  are  handled,
 once  they  all  have  replied  and  synchronized  through  calls to
 <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a> the next set - at the
 next  priority
 level  is handled by CDB. Priority numbers are global, i.e. if there
 are multiple client daemons notifications will still be delivered in
 priority order per all subscriptions, not per daemon.
 <p>
 Operational and configuration subscriptions can be done on
 the same socket, but in that case the notifications may be
 arbitrarily interleaved, including operational notifications
 arriving between different configuration notifications for the
 same transaction. If this is a problem, use separate CdbSubscription
 instances with separate Cdb instances for operational and configuration
 subscriptions.
 <p>
 See  <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate)"><code>diffIterate(int,CdbDiffIterate)</code></a> for ways of filtering
 subscription
 notifications and finding out what changed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>priority</code> - Subscription priority</dd>
<dd><code>nshash</code> - namespace hash</dd>
<dd><code>fmt</code> - subscription path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A subscription point. This integer value is used to
 identify this particular subscription.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to subscribe to the specified path</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="subscribe(int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;subscribe&#8203;(int&nbsp;priority,
                     <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
              throws <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Subscribe to a given path.

 <p> Sets up a CDB subscription so that we are notified when CDB
 configuration data changes. There can be multiple subscription points
 from different sources, that is a single client daemon can have many
 subscriptions and there can be many client daemons.

 <p>
 Each subscription point is defined through a path similar to the
 paths we use for read operations. We can subscribe either to
 specific leafs or entire subtrees. Subscribing to list entries can
 be done using fully qualified paths, or tagpaths to match multiple
 entries. A path which isn't a leaf element automatically
 matches the subtree below that path. When specifying keys to a
 list entry it is possible to use the wild card character * which will
 match any key value.
 <p>
 When subscribing to a leaf with a <tt>tailf:default-ref</tt> statement,
 or to a subtree with elements that have <tt>tailf:default-ref</tt>,
 implicit subscriptions to the referred leafs are added.
 This means that a change in a referred leaf will generate a
 notification for the subscription that has referring leaf(s) - but
 currently such a change will not be reported by
  <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>.
 Thus to get the new "effective" value of a referring leaf in this
 case, it is necessary to either read the
 value of the leaf with e.g. <a href="CdbSession.html#getElem(com.tailf.conf.ConfPath)"><code>CdbSession.getElem(ConfPath)</code></a> - or
 to use a
 subscription that includes the referred leafs, and use
 <tt>diffIterate</tt> when a notification for that
 subscription is received.

 Some examples
 <pre>
 /hosts
         Means that we subscribe to any changes in the subtree - rooted
         at /hosts. This includes additions or removals of host
         entries as well as changes to already  existing host entries.

 /hosts/host{www}/interfaces/interface{eth0}/ip
         Means we are notified when host www changes its IP address on
         eth0.

 /hosts/host/interfaces/interface/ip
         Means we are notified when any host changes any of its IP
         addresses.

 /hosts/host/interfaces
         Means we are notified when either an interface is
         added/removed or when an individual leaf element in an
         existing interface is changed.

  </pre>
  <p>
  The priority value is an integer. When CDB is changed, the
  change is performed inside a transaction. Either a commit
  operation from the CLI or a candidate-commit operation in
  NETCONF means that the running database is changed.
  These changes occur inside a transaction.

  CDB will handle the subscriptions in lock-step priority order.
  First all subscribers at the lowest priority are handled, once
  they all have replied and synchronized through calls
  to <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>
  the next set - at the next priority  level is handled by CDB.

  <p>Priority numbers are global, i.e. if there
  are multiple client daemons notifications will still be delivered
  in priority order per all subscriptions, not per daemon.

  See <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>
  for ways of filtering  subscription notifications and finding out
  what changed.  The easiest way is though to solely
  rely on the positioning of the subscription points in the tree to
  figure out what changed.

  <p><tt>subscribe</tt> returns a subscription point
  This integer value is used to identify this particular
  subscription.

  <p>Because there can be many subscriptions on the same socket the
  client must notify when it is done subscribing and ready to receive
  notifications. This is done using <a href="#subscribeDone()"><code>subscribeDone()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>priority</code> - subscription priority</dd>
<dd><code>ns</code> - namespace</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>subscription point
         which is used to identify this particular subscription</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="subscribe(com.tailf.cdb.CdbSubscriptionType,int,int,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;subscribe&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
                     int&nbsp;priority,
                     int&nbsp;nshash,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                     <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Subscribe to a path.

 <p> Sets up a CDB subscription so that we are notified when CDB
 configuration data changes. There can be multiple subscription points
 from different sources, that is a single client daemon can have many
 subscriptions and there can be many client daemons.

 <p>
 Each subscription point is defined through a path similar to the
 paths we use for read operations. We can subscribe either to
 specific leafs or entire subtrees. Subscribing to list entries can
 be done using fully qualified paths, or tagpaths to match multiple
 entries. A path which isn't a leaf element automatically
 matches the subtree below that path. When specifying keys to a
 list entry it is possible to use the wild card character '*' which will
 match any key value.
 <p>
 When subscribing to a leaf with a <tt>tailf:default-ref</tt> statement,
 or to a subtree with elements that have <tt>tailf:default-ref</tt>,
 implicit subscriptions to the referred leafs are added.
 This means that a change in a referred leaf will generate a
 notification for the subscription that has referring leaf(s) - but
 currently such a change will not be reported by
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>.
 Thus to get the new "effective" value of a referring leaf in this
 case, it is necessary to either read the
 value of the leaf with e.g. <a href="CdbSession.html#getElem(com.tailf.conf.ConfPath)"><code>CdbSession.getElem(ConfPath)</code></a> -
 or to use a
 subscription that includes the referred leafs, and use
 <tt>diffIterate</tt> when a notification for that
 subscription is received.

 Some examples
 <pre>
 /hosts
         Means that we subscribe to any changes in the subtree - rooted
         at /hosts. This includes additions or removals of host
         entries as well as changes to already  existing host entries.

 /hosts/host{www}/interfaces/interface{eth0}/ip
         Means we are notified when host www changes its IP address on
         eth0.

 /hosts/host/interfaces/interface/ip
         Means we are notified when any host changes any of its IP
         addresses.

 /hosts/host/interfaces
         Means we are notified when either an interface is
         added/removed or when an individual leaf element in an
         existing interface is changed.

  </pre>
  <p>
  The priority value is an integer. When CDB is changed, the
  change is performed inside a transaction. Either a commit
  operation from the CLI or a candidate-commit operation in
  NETCONF means that the running database is changed.
  These changes occur inside a transaction.

  CDB will handle the subscriptions in lock-step priority order.
  First all subscribers at the lowest priority are handled, once
  they all have replied and synchronized through calls
  to <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>
  the next set - at the next priority  level is handled by CDB.

  <p>Priority numbers are global, i.e. if there
  are multiple client daemons notifications will still be delivered
  in priority order per all subscriptions, not per daemon.

  See <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>
  for ways of filtering  subscription notifications and finding out
  what changed.  The easiest way is though to solely
  rely on the positioning of the subscription points in the tree to
  figure out what changed.

  <p><tt>subscribe</tt> returns a subscription point
  This integer value is used to identify this particular
  subscription.

  <p>Because there can be many subscriptions on the same socket the
  client must notify when it is done subscribing and ready to receive
  notifications. This is done using <a href="#subscribeDone()"><code>subscribeDone()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subscriptionType</code> - subscription type</dd>
<dd><code>priority</code> - subscription priority</dd>
<dd><code>nshash</code> - namespace hash</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The final subscription point which is
            used to identify this particular subscription</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code> - If failed to subscribe to the given path
 for some reason</dd>
</dl>
</li>
</ul>
<a id="subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,int,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;subscribe&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
                     int&nbsp;priority,
                     int&nbsp;nshash,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                     <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Subscribe to a path.

 Same as the
 <a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,int,java.lang.String,java.lang.Object...)"><code>subscribe(CdbSubscriptionType, int, int, String, Object...)</code></a>
 with the addition of the flags parameter which is an EnumSet of
 configuration flags for the subscription see <a href="CdbSubscrConfigFlag.html" title="enum in com.tailf.cdb"><code>CdbSubscrConfigFlag</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subscriptionType</code> - subscription type</dd>
<dd><code>flags</code> - EnumSet<CdbSubscrConfigFlag> controlling the subscription</dd>
<dd><code>priority</code> - subscription priority</dd>
<dd><code>nshash</code> - namespace hash</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The final subscription point which is
            used to identify this particular subscription</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code> - If failed to subscribe to the given path
 for some reason</dd>
</dl>
</li>
</ul>
<a id="subscribe(com.tailf.cdb.CdbSubscriptionType,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;subscribe&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
                     int&nbsp;priority,
                     <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                     <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Subscribe to a path.

 <p> Sets up a CDB subscription so that we are notified when CDB
 configuration data changes. There can be multiple subscription points
 from different sources, that is a single client daemon can have many
 subscriptions and there can be many client daemons.

 <p>
 Each subscription point is defined through a path similar to the
 paths we use for read operations. We can subscribe either to
 specific leafs or entire subtrees. Subscribing to list entries can
 be done using fully qualified paths, or tagpaths to match multiple
 entries. A path which isn't a leaf element automatically
 matches the subtree below that path. When specifying keys to a
 list entry it is possible to use the wild card character * which will
 match any key value.
 <p>
 When subscribing to a leaf with a <tt>tailf:default-ref</tt> statement,
 or to a subtree with elements that have <tt>tailf:default-ref</tt>,
 implicit subscriptions to the referred leafs are added.
 This means that a change in a referred leaf will generate a
 notification for the subscription that has referring leaf(s) - but
 currently such a change will not be reported by
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int, CdbDiffIterate, EnumSet, Object)</code></a>.
 Thus to get the new "effective" value of a referring leaf in this
 case, it is necessary to either read the
 value of the leaf with e.g. <a href="CdbSession.html#getElem(com.tailf.conf.ConfPath)"><code>CdbSession.getElem(ConfPath)</code></a> -
 or to use a
 subscription that includes the referred leafs, and use
 <tt>diffIterate()</tt> when a notification for that
 subscription is received.

 Some examples
 <pre>
 /hosts
         Means that we subscribe to any changes in the subtree - rooted
         at /hosts. This includes additions or removals of host
         entries as well as changes to already  existing host entries.

 /hosts/host{www}/interfaces/interface{eth0}/ip
         Means we are notified when host www changes its IP address on
         eth0.

 /hosts/host/interfaces/interface/ip
         Means we are notified when any host changes any of its IP
         addresses.

 /hosts/host/interfaces
         Means we are notified when either an interface is
         added/removed or when an individual leaf element in an
         existing interface is changed.

  </pre>
  <p>
  The priority value is an integer. When CDB is changed, the
  change is performed inside a transaction. Either a commit
  operation from the CLI or a candidate-commit operation in
  NETCONF means that the running database is changed.
  These changes occur inside a transaction.

  CDB will handle the subscriptions in lock-step priority order.
  First all subscribers at the lowest priority are handled, once
  they all have replied and synchronized through calls
  to <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>
  the next set - at the next priority  level is handled by CDB.

  <p>Priority numbers are global, i.e. if there
  are multiple client daemons notifications will still be delivered
  in priority order per all subscriptions, not per daemon.

  See <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>
  for ways of filtering  subscription notifications and finding out
  what changed.  The easiest way is though to solely
  rely on the positioning of the subscription points in the tree to
  figure out what changed.

  <p><tt>subscribe</tt> returns a subscription point
  This integer value is used to identify this particular
  subscription.

  <p>Because there can be many subscriptions on the same socket the
  client must notify when it is done subscribing and ready to receive
  notifications. This is done using <a href="#subscribeDone()"><code>subscribeDone()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subscriptionType</code> - The subscription type</dd>
<dd><code>priority</code> - The priority of the subscription</dd>
<dd><code>ns</code> - Namespace where the path belongs to</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The final subscription point which is
            used to identify this particular subscription</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;subscribe&#8203;(<a href="CdbSubscriptionType.html" title="enum in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
                     int&nbsp;priority,
                     <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                     <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Subscribe to a path.

 Same as the
 <a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,int,java.lang.String,java.lang.Object...)"><code>subscribe(CdbSubscriptionType,EnumSet,int,int,String,Object...)</code></a>
 with the difference that the namespace is given as a ConfNamespace.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subscriptionType</code> - The subscription type</dd>
<dd><code>flags</code> - EnumSet<CdbSubscrConfigFlag> controlling the subscription</dd>
<dd><code>priority</code> - The priority of the subscription</dd>
<dd><code>ns</code> - Namespace where the path belongs to</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The final subscription point which is
            used to identify this particular subscription</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="subscribeDone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribeDone</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;subscribeDone()
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                          <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Finishing the subscription setup.
 <p>
 When a client is done registering all its subscriptions on a
 particular subscription socket it must call <tt>subscribeDone</tt>.
 <p>
 No notifications will be delivered until then.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="diffIterate(int,com.tailf.cdb.CdbDiffIterate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>diffIterate</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;diffIterate&#8203;(int&nbsp;subid,
                        <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                        <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Iterate over changes made in CDB.

 <p>After reading the subscription socket the <tt>diffIterate</tt>
 method can be used to iterate over the changes made in CDB  that
 matched the particular <tt>subid</tt>.

 The supplied user implementation of the
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb"><code>CdbDiffIterate</code></a> , <tt>iter</tt> corresponding
 method
 <a href="CdbDiffIterate.html#iterate(com.tailf.conf.ConfObject%5B%5D,com.tailf.conf.DiffIterateOperFlag,com.tailf.conf.ConfObject,com.tailf.conf.ConfObject,java.lang.Object)"><code>CdbDiffIterate.iterate(ConfObject[],DiffIterateOperFlag,
  ConfObject,ConfObject,Object)</code></a> will be invoked by the library
 for each element that has been modified and matches the subscription.

 <p>The <tt>iterate</tt> callback receives an <tt>ConfObject[]</tt>
  <tt>kp</tt> array (reversed keypath) which uniquely identifies
 which node in the data tree that has been affected, the operation,
 and optionally the values it has before and after the transaction
 <a href="../conf/DiffIterateFlags.html#ITER_WANT_PREV"><code>DiffIterateFlags.ITER_WANT_PREV</code></a>.

 <p>A modification op <a href="../conf/DiffIterateOperFlag.html" title="enum in com.tailf.conf"><code>DiffIterateOperFlag</code></a> is supplied to
 the <tt>iterate</tt> method and it gives the modification as:
 <ul>
 <li><tt>MOP_CREATED</tt>:
 The list entry, presence container, or leaf of type empty
 given by <tt>kp</tt> has been created.</li>
 </li>

 <li><tt>MOP_DELETED</tt>:
  The list entry, presence container, or optional leaf
  given by <tt>kp</tt> has been deleted.

 If the subscription was triggered because an ancestor was deleted,
 the <tt>iterate</tt> method will not called at all if the delete
 was above the subscription point.

 However if the flag
 <a href="../conf/DiffIterateFlags.html#ITER_WANT_ANCESTOR_DELETE"><code>DiffIterateFlags.ITER_WANT_ANCESTOR_DELETE</code></a> is passed to
 <tt>diffIterate</tt> then deletes that trigger a descendant
 subscription will also generate a call to <tt>iterate</tt>,
 and in this case <tt>kp</tt> will be the path that was actually deleted.
 </li>

 <li><tt>MOP_MODIFIED</tt>:
 A descendant of the list entry given by <tt>kp</tt> has been modified.
 </li>

 <li><tt>MOP_VALUE_SET</tt>:
 The value of the leaf given by kp has been set.</li>

 <li><tt>MOP_MOVED_AFTER</tt>:
 The list entry given by <tt>kp</tt>, in an <tt>ordered-by</tt>
 user list, has been moved. If new value is null, the entry has been
 moved first in the list, otherwise it has been moved after the entry
 given by the new value.
 </ul>
 <p>
 For configuration subscriptions, the previous value
 of the node can also be passed to <tt>iterate</tt> if the
 flags parameter contains <tt>ITER_WANT_PREV</tt>, in which case
 the old value is supplied ,otherwise it will be null.

 <p>
 For operational data subscriptions,
 the <tt>ITER_WANT_PREV</tt> flag is ignored, and old value is always
  null - there is no equivalent to
 <a href="CdbDBType.html#CDB_PRE_COMMIT_RUNNING"><code>CdbDBType.CDB_PRE_COMMIT_RUNNING</code></a> that holds "old"
 operational data.</p>

 <p>
 If <tt>iterate</tt> returns <a href="../conf/DiffIterateResultFlag.html#ITER_STOP"><code>DiffIterateResultFlag.ITER_STOP</code></a>,
 no more iteration is done, is returned.

 If <tt>iterate</tt> returns <a href="../conf/DiffIterateResultFlag.html#ITER_RECURSE"><code>DiffIterateResultFlag.ITER_RECURSE</code></a>
 iteration continues with all children to the node.

 <p>
 If <tt>iterate</tt> returns
 <a href="../conf/DiffIterateResultFlag.html#ITER_CONTINUE"><code>DiffIterateResultFlag.ITER_CONTINUE</code></a>
 iteration ignores the children to the node (if any), and continues
 with the node's sibling.

 <p> This version sends passes <tt>ITER_WANT_PREV</tt> as default.
 If the ITER_WANT_PREV is not desired or additional flags is require use
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet, Object)</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subid</code> - Subscription identifier point</dd>
<dd><code>iter</code> - A User implementation <tt>CdbDiffIterate</tt> interface.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to diff iterate</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>diffIterate</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;diffIterate&#8203;(int&nbsp;subid,
                        <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="../conf/DiffIterateFlags.html" title="enum in com.tailf.conf">DiffIterateFlags</a>&gt;&nbsp;flags,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;initstate)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                        <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Iterate over changes made in CDB with additional supplied flags.

 <p>After reading the subscription socket the <tt>diffIterate</tt>
 method can be used to iterate over the changes made in CDB  that
 matched the particular <tt>subid</tt>.

 The supplied user implementation of the
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb"><code>CdbDiffIterate</code></a> interface, <tt>iter</tt> corresponding
 method
 <a href="CdbDiffIterate.html#iterate(com.tailf.conf.ConfObject%5B%5D,com.tailf.conf.DiffIterateOperFlag,com.tailf.conf.ConfObject,com.tailf.conf.ConfObject,java.lang.Object)"><code>CdbDiffIterate.iterate(ConfObject[],DiffIterateOperFlag,
  ConfObject,ConfObject,Object)</code></a> will be invoked by the library
 for each element that has been modified and matches the subscription.

 <p>The <tt>iterate</tt> callback receives an <tt>ConfObject[]</tt>
 <tt>kp</tt> array (reversed keypath) which uniquely identifies
 which node in the data tree that has been affected, the operation,
 and optionally the values it has before (old value) and after the
 transaction ( new value ) <a href="../conf/DiffIterateFlags.html#ITER_WANT_PREV"><code>DiffIterateFlags.ITER_WANT_PREV</code></a>.

 <p>A modification op <a href="../conf/DiffIterateOperFlag.html" title="enum in com.tailf.conf"><code>DiffIterateOperFlag</code></a> is supplied to
 the <tt>iterate</tt> method and it gives the modification as:
 <ul>
 <li><tt><a href="../conf/DiffIterateOperFlag.html#MOP_CREATED"><code>DiffIterateOperFlag.MOP_CREATED</code></a></tt>:
 The list entry, presence container, or leaf of type empty
 given by <tt>kp</tt> has been created.</li>
 </li>

 <li><tt><a href="../conf/DiffIterateOperFlag.html#MOP_DELETED"><code>DiffIterateOperFlag.MOP_DELETED</code></a></tt>:
  The list entry, presence container, or optional leaf
  given by <tt>kp</tt> has been deleted.

 If the subscription was triggered because an ancestor was deleted,
 the <tt>iterate</tt> method will not called at all if the delete
 was above the subscription point.

 However if the flag
 <a href="../conf/DiffIterateFlags.html#ITER_WANT_ANCESTOR_DELETE"><code>DiffIterateFlags.ITER_WANT_ANCESTOR_DELETE</code></a> is passed to
 <tt>diffIterate</tt> then deletes that trigger a descendant
 subscription will also generate a call to <tt>iterate</tt>,
 and in this case <tt>kp</tt> will be the path that was actually deleted.
 </li>

 <li><tt>MOP_MODIFIED</tt>:
 A descendant of the list entry given by <tt>kp</tt> has been modified.
 </li>

<li> <tt>MOP_VALUE_SET</tt>:
 The value of the leaf given by kp has been set.</li>

 <li><tt>MOP_MOVED_AFTER</tt>
 The list entry given by <tt>kp</tt>, in an <tt>ordered-by</tt>
 user list, has been moved. If new value is null, the entry has been
 moved first in the list, otherwise it has been moved after the entry
 given by the new value.
 </ul>
 <p>
 For configuration subscriptions, the previous value
 of the node can also be passed to <tt>iterate</tt> if the
 flags parameter contains <tt>ITER_WANT_PREV</tt>, in which case
 the old value is supplied ,otherwise it will be null.

 <p>
 For operational data subscriptions,
 the <tt>ITER_WANT_PREV</tt> flag is ignored, and old value is always
 null - there is no equivalent to
 <a href="CdbDBType.html#CDB_PRE_COMMIT_RUNNING"><code>CdbDBType.CDB_PRE_COMMIT_RUNNING</code></a> that holds "old"
 operational data.</p>

 <p>
 If <tt>iterate</tt> returns <a href="../conf/DiffIterateResultFlag.html#ITER_STOP"><code>DiffIterateResultFlag.ITER_STOP</code></a>,
 no more iteration is done, is returned.

 If <tt>iterate</tt> returns <a href="../conf/DiffIterateResultFlag.html#ITER_RECURSE"><code>DiffIterateResultFlag.ITER_RECURSE</code></a>
 iteration continues with all children to the node.

 <p>
 If <tt>iterate</tt> returns
 <a href="../conf/DiffIterateResultFlag.html#ITER_CONTINUE"><code>DiffIterateResultFlag.ITER_CONTINUE</code></a>
 iteration ignores the children to the node (if any), and continues
 with the node's sibling.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subid</code> - Subscription identifier point</dd>
<dd><code>iter</code> - A User implementation <tt>CdbDiffIterate</tt> interface</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to diff iterate</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="read()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre class="methodSignature">public&nbsp;int[]&nbsp;read()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                  <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Reads the Cdb subscription socket for events and blocks.

 <p>Returns the subscription points that triggered
 a change.

 <p>The triggering notification is of a type.
 This information in important in two-phase subscriptions.
 The notificationType can be retrieved using
 <a href="#getLatestNotificationType()"><code>getLatestNotificationType()</code></a></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to read.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="getLatestNotificationType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatestNotificationType</h4>
<pre class="methodSignature">public&nbsp;<a href="CdbNotificationType.html" title="enum in com.tailf.cdb">CdbNotificationType</a>&nbsp;getLatestNotificationType()</pre>
<div class="block">Retrieve the latest notification type.

 <p>Each notification retrieved by the <a href="#read()"><code>read()</code></a> method has a
 notificationType.

 This method retrieves the notification type from  the latest
 <tt>read</tt> call.

 <p>
 If no <tt>read</tt> call has been performed then this method
 returns null.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>notificationType or null if not applicable</dd>
</dl>
</li>
</ul>
<a id="getLatestSubscriptionFlag()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatestSubscriptionFlag</h4>
<pre class="methodSignature"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang" class="externalLink">@Deprecated</a>
public&nbsp;<a href="CdbSubscriptionFlagType.html" title="enum in com.tailf.cdb">CdbSubscriptionFlagType</a>&nbsp;getLatestSubscriptionFlag()</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">This method is deprecated.
 Use getFlags() instead.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CdbSubscriptionFlagType</dd>
</dl>
</li>
</ul>
<a id="getFlags()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlags</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbSubscriptionFlagType.html" title="enum in com.tailf.cdb">CdbSubscriptionFlagType</a>&gt;&nbsp;getFlags()</pre>
<div class="block">Returns an EnumSet<CdbSubscriptionFlagType> of current
 flags for this subscription.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>EnumSet<CdbSubscriptionFlagType></dd>
</dl>
</li>
</ul>
<a id="getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModifications</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;&nbsp;getModifications&#8203;(int&nbsp;subid,
                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
                                           <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                           <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Retrieve changes that caused by subscription notification.

 <p>The <tt>getModifications</tt> can be called after
 reception of a subscription notification to retrieve all the
 changes that caused the subscription notification.
 <p>
 The subscription id <tt>subid</tt> must be provide
 Optionally a path <tt>path</tt> can  be used to limit what is
 returned further (only changes below the supplied path will be
 returned), if this isn't needed a null could be provided.
 <p>
 Only the values that were  modified in this transaction are included.
 In addition to that these are the different values
 of the tags depending on what happened in the transaction:

 <ul>
 <li><p>A leaf of type empty that has been deleted has the value of
        <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>, and when it is created it has the
        value <a href="../conf/ConfXMLParamLeaf.html" title="class in com.tailf.conf"><code>ConfXMLParamLeaf</code></a>.
 </li>
 <li> A leaf or a leaf-list that has been set to a new value
      (or its default value) is included with that new value.
      If the leaf or leaf-list is optional, then when
      it is deleted the value is <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.</li>

 <li> Presence containers are included when they are created or when
      they have modifications below them (by the usual
      <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a>,
      <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair). If a presence
       container have been deleted its tag is included, but is set to
       <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.
 </ul>
 <p>
 By default <tt>getModifications</tt> does not include list instances
 (created, deleted, or modified) - but if the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_LISTS"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_LISTS</code></a> then list
 instances will be included.

 Created, modified and moved instances are included wrapped in the
 <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a> / <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair, with the
 keys first.

 To receive information about where a list instance in an ordered-by user
 list is moved, the
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_MOVES"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_MOVES</code></a> flag must also
 be included in the flags parameter.

 To receive information about ancestor list entry or presence container
 deleion
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_MOVES"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_MOVES</code></a> flag must also
 be included in the flags parameter.

 A list instance moved to the beginning of the list is indicated by
 C_XMLMOVEFIRST after the keys. A list instance moved elsewhere is
 indicated by C_XMLMOVEAFTER after the keys, with the after-keys
 following directly after.

 Deleted list instances instead begin with C_XMLBEGINDEL,
 then follows the keys, immediately followed by a C_XMLEND.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subid</code> - Subscription id</dd>
<dd><code>flags</code> - enumset of CdbGetModificationFlag</dd>
<dd><code>path</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="getModifications(int,com.tailf.cdb.CdbGetModificationFlag,com.tailf.conf.ConfPath)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModifications</h4>
<pre class="methodSignature"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang" class="externalLink">@Deprecated</a>
public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;&nbsp;getModifications&#8203;(int&nbsp;subid,
                                           <a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
                                           <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                           <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">This method is deprecated, instead use
 {link <a href="#getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)"><code>getModifications(int, EnumSet, ConfPath)</code></a></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="getModifications(int,java.util.EnumSet,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModifications</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;&nbsp;getModifications&#8203;(int&nbsp;subid,
                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                           <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Retrieve changes that caused by subscription notification.

 <p>The <tt>getModifications</tt> can be called after
 reception of a subscription notification to retrieve all the
 changes that caused the subscription notification.
 <p>
 The subscription id <tt>subid</tt> must be provide
 Optionally a path <tt>path</tt> can  be used to limit what is
 returned further (only changes below the supplied path will be
 returned), if this isn't needed a null could be provided.
 <p>
 Only the values that were  modified in this transaction are included.
 In addition to that these are the different values
 of the tags depending on what happened in the transaction:

 <ul>
 <li><p>A leaf of type empty that has been deleted has the value of
        <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>, and when it is created it has the
        value <a href="../conf/ConfXMLParamLeaf.html" title="class in com.tailf.conf"><code>ConfXMLParamLeaf</code></a>.
 </li>
 <li> A leaf or a leaf-list that has been set to a new value
      (or its default value) is included with that new value.
      If the leaf or leaf-list is optional, then when
      it is deleted the value is <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.</li>

 <li> Presence containers are included when they are created or when
      they have modifications below them (by the usual
      <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a>,
      <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair). If a presence
       container have been deleted its tag is included, but is set to
       <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.
 </ul>
 <p>
 By default <tt>getModifications</tt> does not include list instances
 (created, deleted, or modified) - but if the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_LISTS"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_LISTS</code></a> then list
 instances will be included.

 Created and modified instances are included wrapped in the
 <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a> / <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair, with the
 keys first.

 Deleted list instances instead begin with C_XMLBEGINDEL,
 then follows the keys, immediately followed by a C_XMLEND.
 <p>
 If the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_SUPPRESS_DEFAULTS"><code>CdbGetModificationFlag.CDB_GET_MODS_SUPPRESS_DEFAULTS</code></a>,
 a default value that comes into effect for a leaf due to an ancestor
 list entry or presence container being created will not be included,
 and a default value that comes into effect for a leaf due to a set
 value being deleted will be included as a deletion (i.e. with value
 <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.
 <p>
 If the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_CLI_NO_BACKQUOTES"><code>CdbGetModificationFlag.CDB_GET_MODS_CLI_NO_BACKQUOTES</code></a>,
 Then backslash quotes will not be used when formatting string
 values. This means that certain values cannot be represented
 (like newlines and tabs) but also that there is no need to
 remove backslash quotes if the target for the configuration
 does not support it.
 <p>
 If the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_WANT_ANCESTOR_DELETE"><code>CdbGetModificationFlag.CDB_GET_MODS_WANT_ANCESTOR_DELETE</code></a>,
 Then a node that comes into effect due to an ancestor list entry or
 presence container being deleted will be included,</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subid</code> - Subscription id</dd>
<dd><code>flags</code> - EnumSet of CdbGetModificationFlag</dd>
<dd><code>fmt</code> - </dd>
<dd><code>args</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="getModifications(int,com.tailf.cdb.CdbGetModificationFlag,java.lang.String,java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModifications</h4>
<pre class="methodSignature"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang" class="externalLink">@Deprecated</a>
public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;&nbsp;getModifications&#8203;(int&nbsp;subid,
                                           <a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;fmt,
                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>...&nbsp;args)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                           <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">This method is deprecated, instead use
 <a href="#getModifications(int,java.util.EnumSet,java.lang.String,java.lang.Object...)"><code>getModifications(int, EnumSet, String, Object...)</code></a></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="getModifications(java.util.EnumSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModifications</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;&nbsp;getModifications&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util" class="externalLink">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                           <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Retrieve changes that caused by subscription notification.

 Convenient short-hand of the
 <a href="#getModifications(int,com.tailf.cdb.CdbGetModificationFlag,com.tailf.conf.ConfPath)"><code>getModifications(int,CdbGetModificationFlag,ConfPath)</code></a>
 method intended to be used from within a iteration started by
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate)"><code>diffIterate(int,CdbDiffIterate)</code></a>.

 <p>In this case no subscription id is needed, and the path is implicitly
 the current position in the iteration.

 <p>Combining this call with <code>diffIterate</code> makes it for
 example possible to iterate over a list, and for each list instance
 fetch the changes using <code>getModifications</code>, and then return
 <a href="../conf/DiffIterateResultFlag.html#ITER_CONTINUE"><code>DiffIterateResultFlag.ITER_CONTINUE</code></a> to process next instance.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)"><code>getModifications(int,EnumSet,ConfPath)</code></a></dd>
</dl>
</li>
</ul>
<a id="getModifications(com.tailf.cdb.CdbGetModificationFlag)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModifications</h4>
<pre class="methodSignature"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang" class="externalLink">@Deprecated</a>
public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;&nbsp;getModifications&#8203;(<a href="CdbGetModificationFlag.html" title="enum in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                           <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">This method is deprecated, instead use
 <a href="#getModifications(java.util.EnumSet)"><code>getModifications(EnumSet)</code></a></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="getModificationsCLI(int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModificationsCLI</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getModificationsCLI&#8203;(int&nbsp;subid,
                                  int&nbsp;flags)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                  <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">CLI string that corresponds to the changes that triggered subscription.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="getModificationsCLI(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModificationsCLI</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getModificationsCLI&#8203;(int&nbsp;subid)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                                  <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Return a string with the CLI commands that corresponds to the
 changes that triggered subscription.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getModificationsCLI(int,int)"><code>getModificationsCLI(int, int)</code></a></dd>
</dl>
</li>
</ul>
<a id="sync(com.tailf.cdb.CdbSubscriptionSyncType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;sync&#8203;(<a href="CdbSubscriptionSyncType.html" title="enum in com.tailf.cdb">CdbSubscriptionSyncType</a>&nbsp;subscriptionSyncType)
          throws <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Synchronize the subscriber.

 <p>Once we have read the subscription notification through a call to
 <a href="#read()"><code>read()</code></a> and also have acted on the changes to
 CDB, we must synchronize with CDB so that CDB can continue and
 deliver further subscription messages to subscribers with higher
 priority numbers.

 <p> There are three different types of synchronization replies the
 application can use in the subscriptionSyncType parameter:
 see <a href="CdbSubscriptionSyncType.html" title="enum in com.tailf.cdb"><code>CdbSubscriptionSyncType</code></a>

 <p>
 CDB is locked for writing while subscriptions are delivered.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to sync</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="abortTransaction(com.tailf.cdb.CdbExtendedException)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTransaction</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;abortTransaction&#8203;(<a href="CdbExtendedException.html" title="class in com.tailf.cdb">CdbExtendedException</a>&nbsp;ex)
                      throws <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Abort the transaction.

 <p> This method is used when a two phase subscriber wishes to abort an
 transaction (the opposite to acknowledge it with
 <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>).

 The <tt>abortTransaction</tt> call is only valid for notifications with
 notificationType <a href="CdbNotificationType.html#SUB_PREPARE"><code>CdbNotificationType.SUB_PREPARE</code></a>.

 <p>
 The subscriber is required to supply an instance of the
 <a href="CdbExtendedException.html" title="class in com.tailf.cdb"><code>CdbExtendedException</code></a> which will be used to notify the clients on
 the reason for the transaction abort.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ex</code> - an <tt>CdbExtendedException</tt> instance supplied by
 the subscriber</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="setMandatory(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMandatory</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMandatory&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;mandatoryName)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                         <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Attaches a mandatory attribute and a mandatory name to this subscriber
 CDB keeps a list of mandatory subscribers for infinite extent, i.e.
 until ConfD/NCS is restarted. The function is idempotent.

 Absence of one or more mandatory subscribers will result in abort of
 all transactions. A mandatory subscriber must be present during the
 entire PREPARE delivery phase.

 If a mandatory subscriber crash during a PREPARE delivery phase, the
 subscriber should be restarted and the commit operation should be
 retried.

 A mandatory subscriber is present if the subscriber has issued at least
 one subscribe() call followed by a subscribeDone() call.

 <p>
 A call to setMandatory() is only allowed before
 subscribe() has been called.

 Note, this functionality is only applicable for two-phase subscribers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mandatoryName</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</li>
</ul>
<a id="getMountId(com.tailf.conf.ConfPath)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMountId</h4>
<pre class="methodSignature">public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;getMountId&#8203;(<a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)
                        throws <a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../conf/MountIdInterface.html#getMountId(com.tailf.conf.ConfPath)">getMountId</a></code>&nbsp;in interface&nbsp;<code><a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="acceptTagPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptTagPath</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;acceptTagPath()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../conf/MountIdInterface.html#acceptTagPath()">acceptTagPath</a></code>&nbsp;in interface&nbsp;<code><a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></code></dd>
</dl>
</li>
</ul>
<a id="getCdb()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCdb</h4>
<pre class="methodSignature">public&nbsp;<a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a>&nbsp;getCdb()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CdbSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
